# 项目简介
该项目为360前端星计划作业。实现一个可在移动端设备上访问的手势密码网页，可供用户设置和验证密码。

# 使用说明
页面下方有提供用户选择的单选框，用户可以选择设置密码或验证密码。具体要求如下：
- 用户首次进入页面时需要设置密码，当用户已经设置了初始密码而需要再次修改时必须先输入初始密码进行验证；
- 用户设置的密码长度要求不少于5个点，并且同一个点不可重复连接；
- 用户设置密码时需要重复输入进行验证，仅当两次输入一致时密码设置成功。

# 编写思路
- 手势解锁图案由于需要实时更新，因此想到通过canvas进行绘制效率较高；
- 绘制图案时首先需要设置canvas的大小，并根据canvas的大小计算出圆的位置和半径，将位置信息和索引添加到数组中以便后续操作；
- 判断用户当前触摸的位置是否在圆内，若在，则可以开始绘制图案，填充圆和连线；若不在，则仅当开始绘制后才能绘制连线；
- 对于用户的移动操作每次都需要重绘所有圆和线段；
- 将用户输入的图案对应圆的索引按顺序存入数组中，将其与localStorage中的数据进行比对，或者存入localStorage中。

# 问题及解决方法
1. 默认触摸事件
2. 线段封闭
3. localStorage格式
4. 边缘滑动无效
4. 页面高度不足

# 项目创新点
1. 修改密码需验证
2. 密码为空提示用户设置
3. 动画效果

# 目录构造
- dist:存放gulp打包后的文件
- src:存放原始文件
- README.md:记录项目相关信息

# 版本更新
**V1.0**
- 完成页面的基本功能，利用canvas绘制手势密码界面。

**V1.1**
- 将绘制的密码按顺序存放入数组中，将设置成功的密码以JSON格式存入localStorage中，需要验证时将两者进行比对；
- 添加用户提示信息，根据用户不同的输入显示不同的提示信息。

**V1.2**
- 添加单选框可供用户选择设置或验证密码；
- 对页面按照设计需求进行布局，使其在移动端设备上能够正常显示。

**V2.0**
- 修复了一些bug并完善用户体验:
 1. 阻止移动端页面默认的滑动事件，当用户绘制图案时不会触发页面的上滑和下拉操作；
 2. 重写了位置计算函数，充分利用canvas的空间进行绘制；
 3. 当用户完成绘制时，只显示已绘制圆心间的连线，提示美观度。

**V2.1**
- 完善js代码的封装，将项目封装成对象，并通过实例进行调用；
- 对代码添加适当的注释，提高代码的可阅读性。

**V2.2**
- 用gulp对项目进行压缩打包；
- 将打包后的项目同步到GitHub中，可通过URL访问。

**V2.3**
- ；

# 项目地址
[**点击此处**](https://lexus1224.github.io/gCode/index.html)